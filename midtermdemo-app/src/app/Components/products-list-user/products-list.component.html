<section class="jumbotron text-center">
  <h1 class="jumbotron-heading"> Product Catalog </h1>
  <p class="lead text-muted"> Extensive list of the latest products. New inventory added daily! </p>
</section>

<div class="container col-md-5 input-group" style="width: 50%">
  <input type="text" style="height: 42px" class="form-control" placeholder="Search by product name"
    [(ngModel)]="name" />
  <span class="input-group-addon">
    <button class="btn btn-outline-secondary fa fa-search" (click)="searchName()"> </button>
  </span>
</div>

<div *ngFor=" let product of products; let i=index" [class.active]="i == currentIndex">
  <div class="col-md-3">
    <div class="card mb-4 border">
      <img class="card-img-top" src={{product.image}}>
      <div class="card-body">
        <ul class="list-group">
          <li class="list-group-item card-border">
            <p class="card-text"> <strong> {{product.name}} </strong> </p>
          </li>
          <br>
          <div> {{product.price | currency: 'USD'}} </div>
          <br>
          <div class="btn-group">
            <button type="button" class="btn btnhov btn-sm btn-outline-secondary"
              (click)="setActiveProduct(product, i); openPopup()">
              View More</button>
            <!-- (click)="" -->
          </div>
          <!-- MODAL POPUP -->
          <div class="modal" tabindex="-1" role="dialog" [ngStyle]="{'display':displayStyle}">
            <div class="modal-dialog" role="document">
              <div class="modal-content">
                <button type="button" class="btnhov close" (click)="closePopup()"> <i class ="fa-solid fa-x"> </i> 
                </button>
                <br>  
                <div >
                  <app-product-details-user [viewMode]="true" [currentProduct]="currentProduct">
                  </app-product-details-user>
                </div>
                <div class="modal-footer"></div>
              </div>
            </div>
          </div>
        </ul>
      </div>
    </div>
  </div>
</div>