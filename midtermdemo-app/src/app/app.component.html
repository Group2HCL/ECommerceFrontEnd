<header class="header">

  <ul class="navbar-nav ml-auto right-nav" *ngIf="isLoggedIn">
    <li class="nav-item" *ngIf="isLoggedIn">
      <!-- ==== SHOPPING CART -->

      <div>
        <button [matMenuTriggerFor]="menu"> <i class="fa-solid fa-cart-shopping">
          </i> <span class='badge badge-warning' id='lblCartCount' *ngIf="this.cart.length > 0 "> {{cartQty | async }}
          </span>
        </button>
        <mat-menu #menu="matMenu" yPosition="below" xPosition="before">
          <div *ngIf="this.cart.length < 1"> Your cart is empty! </div>
          <div class="p-3 divide-y justify-between">
            <div *ngFor=" let product of this.cart; let i=index">
              <img style="width:50px" src="{{this.cart[i].imageUrl}}">
              {{this.cart[i].name}} x {{this.cart[i].quantity ?? 0}}
            </div>
            <a routerLink="cart" class="nav-link" *ngIf="this.cart.length >0">
              <hr>
              Go to Cart <i class="fa fa-arrow-right"> </i>
            </a>
          </div>
        </mat-menu>
      </div>


    </li>
    <li class="nav-item">&nbsp;|&nbsp;</li>

    <li class="nav-item dropdown" style="text-align: center;">
      <a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true"
        aria-expanded="false" *ngIf="isLoggedIn">
        {{ username | async}} <i class="fa fa-caret-down"> </i>
      </a>
      <div class="dropdown-menu nav-link">
        <a class="dropdown-item nav-link" routerLink="profile" href="#"> User Profile </a>
        <br />
        <a class="dropdown-item nav-link" routerLink="orders" href="#"> Orders </a>
      </div>
      <!-- <a href="/profile" class="nav-link" routerLink="profile">{{ username }}</a> -->
    </li>

    <li class="nav-item">&nbsp;|&nbsp;</li>
    <li class="nav-item">
      <a class="nav-link" routerLink="home" (click)="logout()"><i
          class="fa-solid fa-right-from-bracket"></i>&nbsp;&nbsp;&nbsp;&nbsp;</a>
    </li>
  </ul>

  <h1 class="logo logo-row"><a routerLink="/home" href="#"><img src="assets/EZLogo.png"></a>
    <ul class="main-nav" routerLinkActive="active">

      <li class="nav-item" *ngIf="isLoggedIn">
        <a routerLink="/home" class="nav-link" routerLink="home"><i class="fa-solid fa-house"></i></a>
        <!-- Check Brandon's icon src -->
      </li>
      <!-- 
      <li class="nav-item">
        <a href="/user" class="nav-link" *ngIf="isLoggedIn" routerLink="user">User</a>
      </li>
      -->
      <li class="nav-item" *ngIf="isLoggedIn">
        <a routerLink="products" class="nav-link"><i class="fa-solid fa-shop"></i></a>
      </li>

      <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true"
          aria-expanded="false" *ngIf="showAdminBoard">
          Admin Links <i class="fa fa-caret-down"> </i>
        </a>
        <div class="dropdown-menu nav-link">
          <a class="dropdown-item nav-link" routerLink="admin/products" href="#">Products</a>
          <a class="dropdown-item nav-link" routerLink="admin/users" href="#">User List</a>
        </div>
      </li>
    </ul>
  </h1>
</header>
<router-outlet></router-outlet>